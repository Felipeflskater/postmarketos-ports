--- a/include/linux/string.h
+++ b/include/linux/string.h
@@ -4,7 +4,12 @@
 
 #include <linux/compiler.h>	/* for inline */
 #include <linux/types.h>	/* for size_t */
+
+#ifdef __KERNEL__
+/* Use kernel string functions */
+#else
 #include <string.h>
+#endif
 
 extern char *strndup_user(const char __user *, long);
 extern void *memdup_user(const void __user *, size_t);
--- a/arch/arm/kernel/asm-offsets.c
+++ b/arch/arm/kernel/asm-offsets.c
@@ -10,11 +10,18 @@
  */
 #include <linux/stddef.h>
 #include <linux/sched.h>
+
+/* Fix for missing string.h - define __KERNEL__ before problematic includes */
+#ifndef __KERNEL__
+#define __KERNEL__
+#endif
+
 #include <linux/mm.h>
 #include <linux/dma-mapping.h>
 #include <asm/thread_info.h>
 #include <asm/memory.h>
 #include <asm/procinfo.h>
+#include <linux/string.h>
 #include <linux/kbuild.h>
 
 /*