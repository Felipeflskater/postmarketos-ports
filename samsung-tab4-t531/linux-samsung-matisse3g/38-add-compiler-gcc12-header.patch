--- /dev/null
+++ b/include/linux/compiler-gcc12.h
@@ -0,0 +1,69 @@
+#ifndef __LINUX_COMPILER_H
+#error "Please don't include <linux/compiler-gcc12.h> directly, include <linux/compiler.h> instead."
+#endif
+
+/*
+ * GCC 12+ compiler-specific definitions.
+ * Based on compiler-gcc4.h with modern GCC compatibility
+ */
+
+#define __used			__attribute__((__used__))
+#define __must_check		__attribute__((warn_unused_result))
+#define __compiler_offsetof(a,b) __builtin_offsetof(a,b)
+
+#if GCC_VERSION >= 40100
+# define __compiletime_object_size(obj) __builtin_object_size(obj, 0)
+#endif
+
+#if GCC_VERSION >= 40300
+/* Mark functions as cold. gcc will assume any path leading to a call
+ * to them will be unlikely.  This means a lot of manual unlikely()s
+ * are unnecessary now:
+ *
+ *	if (unlikely(x)) y();
+ *
+ * turns into:
+ *
+ *	if (x) cold_func();
+ *
+ * Since this is not marked inline, the compiler won't try to inline it,
+ * so it can use the cold attribute.
+ */
+#define __cold			__attribute__((__cold__))
+
+#define __UNIQUE_ID(prefix) __PASTE(__PASTE(__UNIQUE_ID_, prefix), __COUNTER__)
+
+#ifndef __CHECKER__
+# define __compiletime_warning(message) __attribute__((warning(message)))
+# define __compiletime_error(message) __attribute__((error(message)))
+#endif /* __CHECKER__ */
+#endif /* GCC_VERSION >= 40300 */
+
+#if GCC_VERSION >= 40500
+/*
+ * Mark a position in code as unreachable.  This can be used to
+ * suppress control flow warnings after asm blocks that transfer
+ * control elsewhere.
+ *
+ * Early snapshots of gcc 4.5 don't support this and we can't detect
+ * this in the preprocessor, but we can live with this because they're
+ * unreleased.  Really, we need to have autoconf for the kernel.
+ */
+#define unreachable() __builtin_unreachable()
+
+/* Mark a function definition as prohibited from being cloned. */
+#define __noclone	__attribute__((__noclone__))
+
+#endif /* GCC_VERSION >= 40500 */
+
+#if GCC_VERSION >= 40600
+/*
+ * Tell the optimizer that something else uses this function or variable.
+ */
+#define __visible __attribute__((externally_visible))
+#endif
+
+#if GCC_VERSION >= 40900 && !defined(__CHECKER__)
+/* Unreachable code elimination */
+# define annotate_unreachable() __builtin_unreachable()
+#endif
