--- a/include/linux/capability.h.orig
+++ b/include/linux/capability.h
@@ -1,3 +1,8 @@
+/* Fix for PostmarketOS compilation */
+#ifndef __user
+#define __user
+#endif
+
 /*
  * This is <linux/capability.h>
  *
--- a/include/linux/compiler.h.orig
+++ b/include/linux/compiler.h
@@ -5,6 +5,22 @@
 
 #ifdef __CHECKER__
 # define __user		__attribute__((noderef, address_space(1)))
+#else
+# ifndef __user
+#  define __user
+# endif
 #endif
 
+/* Additional macro definitions for PostmarketOS compatibility */
+#ifndef __kernel
+#define __kernel
+#endif
+
+#ifndef __force
+#define __force
+#endif
+
+#ifndef __iomem
+#define __iomem
+#endif
+
 /* Compiler specific definitions for kernel compilation */
