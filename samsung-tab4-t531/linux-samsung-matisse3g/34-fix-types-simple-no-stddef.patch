--- a/scripts/mod/devicetable-offsets.c
+++ b/scripts/mod/devicetable-offsets.c
@@ -1,4 +1,30 @@
+/* Ensure all basic types are defined before any includes */
+#ifndef __KERNEL_TYPES_DEFINED
+#define __KERNEL_TYPES_DEFINED
+
+/* Basic integer types */
+typedef unsigned char u8, __u8;
+typedef unsigned short u16, __u16;
+typedef unsigned int u32, __u32;
+typedef unsigned long long u64, __u64;
+typedef signed char s8, __s8;
+typedef signed short s16, __s16;
+typedef signed int s32, __s32;
+typedef signed long long s64, __s64;
+
+/* Kernel-specific types */
+typedef unsigned long kernel_ulong_t;
+typedef unsigned long size_t;
+typedef long ssize_t;
+typedef int ptrdiff_t;
+
+/* NULL definition */
+#ifndef NULL
+#define NULL ((void *)0)
+#endif
+
+#endif /* __KERNEL_TYPES_DEFINED */
+
 #include <linux/kbuild.h>
-#include <linux/mod_devicetable.h>
+#include <linux/mod_devicetable.h>
 
 #define DEFINE(sym, val) \
--- a/kernel/bounds.c
+++ b/kernel/bounds.c
@@ -6,6 +6,29 @@
  * it from using __builtin_offsetof().
  */
 
+/* Ensure all basic types are defined before any includes */
+#ifndef __KERNEL_TYPES_DEFINED
+#define __KERNEL_TYPES_DEFINED
+
+/* Basic integer types */
+typedef unsigned char u8, __u8;
+typedef unsigned short u16, __u16;
+typedef unsigned int u32, __u32;
+typedef unsigned long long u64, __u64;
+typedef signed char s8, __s8;
+typedef signed short s16, __s16;
+typedef signed int s32, __s32;
+typedef signed long long s64, __s64;
+
+/* Size types */
+typedef unsigned long size_t;
+typedef long ssize_t;
+typedef int ptrdiff_t;
+typedef unsigned long kernel_ulong_t;
+
+#endif /* __KERNEL_TYPES_DEFINED */
+
 #include <linux/kbuild.h>
 #include <linux/page-flags.h>
 #include <linux/mmzone.h>